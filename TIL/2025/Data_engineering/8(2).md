
# 견고한 데이터 엔지니어링
## 8장 요약 (2)

> 데이터 변환


# 8.3 변환

- 변환과 쿼리는 다르다. 
    - 지속성 : 쿼리는 필터링 및 조인 로직에 따라 검색 / 변환은 추가 변환 또는 쿼리를 통해 결과를 계속 사용할 수 있게 유지한다.
    - 복잡성 : 변환을 통해 복잡한 파이프라인 구축 가능

## 8.3.1 배치 변환
- 분산 조인 : 논리적 조인을 클러스터 내 개별 서버에서 실행되는 훨씬 작은 노드 조인으로 분할.
    - 브로드캐스트 조인 : 작은 테이블을 큰 테이블을 분할한 것과 각각 조인해서 노드 조인을 수행. 작은 테이블을 왼쪽으로 이동시키는 조인 재정렬을 수행하고 이후에 left join 하면 성능이 대폭 개선됨
    - 셔플 해시 조인 : 초기 파티셔닝을 기억해뒀다가(해시 스킴 이용) 분할해서 연산하고 나중에 다시 파티셔닝 할 때 사용
- ETL, ELT, 데이터 파이프라인
    - 원천 시스템과 대상 시스템 제한으로 ETL 방식 유행
    - DW, 스토리지 용량 증가, 데이터 레이크 등장으로 ELT로 진화
    - 이제는 ETL, ELT 같은 도구로 표준화 할 필요 없으며 데이터 파이프라인을 구축할 때 적절한 기술을 사례별로 적용하는데 집중
- SQL과 코드 기반 변환 도구
    - SQL은 선언형 언어이지만 잘 활용하면 복잡한 파이프라인에도 활용할 수 있다.
    - 스파크에서 배치 변