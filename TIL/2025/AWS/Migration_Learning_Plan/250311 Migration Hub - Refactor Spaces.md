- 리팩터링 (외부 기능을 변경하지 않고 애플리케이션을 내부적으로 개선) 작업

## 소개
### 기능 
- 사용자에게 영향을 주지 않고 애플리케이션에 새 마이크로서비스를 추가하기 위한 접근 방식 선택
	- Strangler Fig 패턴: 모놀리스를 마이크로서비스로 분해
	- 리브 앤드 레이어(Leave-and-layer) 접근 방식: 기존 앱에 대한 위험을 최소화하면서 마이크로서비스에서 새로운 기능을 출시
- 리펙토링 환경에 있으면 애플리케이션과 마이크로서비스에 대한 통합 보기를 제공
	- 트래픽을 새로운 마이크로서비스로 증분 라우팅 하는데 도움을 줌

### 해결 문제
- 애플리케이션 리팩터링, 재작성 및 재구성을 위한 인프라 설정
- 애플리케이션 리팩터링 과정에서 조기에 가치 실현, 실험 가속화 및 첫 번째 새로운 기능(또는 기존 기능)을 더 빠르게 출시하여 프로토타입 제작
- 애플리케이션이 변경되는 동안 대규모로 운영

### 작동 방법
- AWS 계정 전반에서 네트워킹을 연결하기 위해 AWS Transit Gateway와 VPC를 오케스트레이션
	- 모든 서비스가 IP 프로토콜을 사용하여 직접 통신
	- Amazon API Gateway, Network Load Balancer, VPC 링크를 오케스트레이션하여 외부 HTTP 또는 HTTPS 엔드포인트에 새로운 서비스를 투명하게 추가
- 그래서 AWS 계정 전반에서 새로운 서비스로 트래픽 라우팅

### 이점
- 시간 절약
- 보안
- 트래픽 다시 라우팅

### 요금 체계
- API 요청을 실행한 시간 수에 따라 요금 부과


## 아키텍처 및 사용 사례

### 아키텍처
![[src/Pasted image 20250311171934.png]]


### 기본 개념
- 환경
- 애플리케이션: 외부 호출자에게 애플리케이션을 노출하는 단일 외부 엔드포인트를 제공하는 서비스 및 경로가 포함
- 서비스: 애플리케이션의 비즈니스 기능을 제공하며 고유한 엔드포인트를 통해 연결
- 경로: 요청을 서비스로 전달하는 프록시 매칭 규칙

### 사용 사례
- 점진적 리팩터링 (Strangler Fig 패턴): 중단 없이 기존 애플리케이션의 점진적 리팩터링을 수행
- 리브 앤드 레이어: 기존 모놀리스에 기능 추가


-> 환경 생성 및 제거 데모 영상