## 1. 데이터 신뢰의 중요성
- 데이터 사용자는 제공 데이터 신뢰 필요
- 사용 사례, 사용자 이해, 데이터 생성 및 제공 방법 고려

## 2. 데이터 품질 우선 원칙
- 좋지 않은 데이터는 게시하지 않는 것이 나음
- 이상 감지 시 파이프라인 중단 및 문제 해결

## 3. 데이터 품질 검사
- 중복 데이터 발견 시 알림 전송 및 프로세스 중단 여부 결정
- 검사 위치: 변환 전, 중, 후 (데이터 수명 주기 및 파이프라인 설계 고려)
- 과도한 검사 시 오탐 증가, 부족 시 데이터 품질 저하

## 4. 데이터 프로파일링
- 데이터 구조, 콘텐츠, 품질 분석 프로세스
- 누락 값, 데이터 분포, 데이터 이상 식별
- 데이터 품질 개선, 이해도 향상, 거버넌스 및 규정 준수 지원
- AWS 서비스 및 도구:
    - AWS Glue DataBrew: 자동 통계, 빈도 분포, 데이터 품질 인사이트 생성
    - Athena: SQL 쿼리 기반 기본 데이터 프로파일링
    - Amazon Redshift: 데이터 분산 계산, 이상 식별, 품질 지표 생성
    - Amazon EMR (Spark): 사용자 지정 데이터 프로파일링 스크립트 개발
    - AWS Marketplace: 서드 파티 데이터 프로파일링 및 품질 도구 활용

## 5. 데이터 검증
- 데이터 완전성, 일관성, 정확성, 무결성 확인
- AWS Glue DataBrew 레시피, Spark, Lambda, Step Functions, SageMaker Data Wrangler 활용

## 6. 중복 레코드 제거
- AWS Glue 작업에서 스테이징 테이블 설정 후 Amazon Redshift 테이블의 기존 행 대체
- 병합 작업 (UPDATE 및 INSERT 문 활용) 또는 UPSERT 구현

## 7. 데이터 샘플링
- 전체 데이터세트 대신 하위 집합 또는 샘플 선택
- 처리 리소스 및 시간 단축, 인사이트 제공
- AWS 서비스:
    - Amazon S3 Select: SQL 쿼리를 사용하여 객체에서 직접 데이터 검색
    - Athena 및 Amazon Redshift: SQL 쿼리에서 LIMIT 절 사용
    - Amazon EMR (Spark): 체계적, 무작위 또는 층화 샘플링 수행
    - SageMaker Data Wrangler: 모델 훈련 및 테스트를 위한 균형 잡힌 데이터세트 생성
    - AWS Glue DataBrew: 데이터 하위 집합 필터링 및 선택

## 8. 데이터 편향 메커니즘 구현
- 데이터 분산 불균형 식별 및 해결 (모니터링, 경고 및 프로파일링 활용)
- CloudWatch: 사용자 지정 지표 생성 (파티션/키당 레코드 수, 데이터 분산, 처리 시간 등)
- AWS Glue: 작업 북마크로 후속 실행에서 데이터 편향 문제 추적
- Amazon EMR (Spark): 애플리케이션 로그 분석 (장기 실행 태스크, 불균일한 태스크 분산 등)
- 실시간 데이터 처리: Kinesis 또는 Apache Kafka + Spark Streaming 활용
- Lambda 함수 및 Step Functions: 데이터 처리 태스크 오케스트레이션 및 실시간 편향 감지
- 동적 데이터 재파티셔닝

## 9. 데이터 파티셔닝 및 버킷팅
- 날짜 관련 열로 파일 분할 (YEAR, MONTH, DAY)
- 파티셔닝 및 버킷팅: 쿼리 시 스캔해야 하는 데이터 양 감소
- Athena 엔진 버전 2: Hive 버킷 알고리즘 지원
- Athena 엔진 버전 3: Spark 버킷 알고리즘 지원

## 10. 편향 조인 최적화
- Bloom 필터, 편향 조인 알고리즘 또는 기타 방법 사용
- Amazon EMR: 조인 키에서 데이터 편향 자동 감지 및 처리
- Amazon Redshift: 데이터 분포에 따라 동작 조정하는 적응형 조인 알고리즘

## 11. 데이터 품질 규칙 정의
- 데이터세트의 데이터 품질 평가 및 적용에 사용되는 사전 정의된 기준 또는 조건
- AWS Glue DataBrew 콘솔:
    - 완전성 규칙: 특정 열에서 누락된 값 또는 Null 값이 있는 레코드에 플래그 지정
    - 형식 규칙: 열의 값이 특정 형식 또는 패턴과 일치하는지 확인
    - 범위 규칙: 숫자 값이 지정된 범위 내에 속하는지 확인
    - 고유성 규칙: 열에서 중복 레코드 또는 값 식별

---

- PyDeequ?
- AWS Glue DataBrew : 데이터 분석 및 데이터 과학 작업에서 데이터를 손쉽게 정리 및 정규화하여 분석 및 기계 학습(ML)에 적합한 상태로 준비하는 데 도움이 되는 시각적 데이터 준비 도구
- AWS Batch