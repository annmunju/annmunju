## 1. 데이터 보호의 중요성
- 전체 데이터 수명 주기에서 보안 포함 필요
- 개인 식별 정보(PII) 및 데이터 주권 보호 중요

## 2. AWS의 데이터 보호 솔루션
- 전송 중 데이터 보호: TLS(Transport Layer Security) 사용
- 저장 시 데이터 보호: 볼륨 암호화, 객체 암호화, 데이터베이스 테이블 암호화
- 세분화된 데이터 보호: 필드 수준 암호화

## 3. 필드 수준 암호화 vs 전체 페이로드 암호화
- 필드 수준: 애플리케이션 페이로드 구조 유지, 민감 데이터만 보호
- 전체 페이로드: 전체 애플리케이션 페이로드를 바이너리 BLOB로 암호화

## 4. 엣지에서의 데이터 보호
- CloudFront와 Lambda@Edge 조합으로 수집 시 민감 데이터 보호
- 다운스트림 시스템의 데이터 노출 감소, 규정 준수 공간 최소화

## 5. 안전한 데이터 레이크 생성 프로세스
1. 서버리스 파이프라인을 통한 데이터 수집
2. 민감 데이터 식별, 마스킹, 암호화
3. Amazon S3에 안전하게 저장
4. Lake Formation으로 세분화된 액세스 권한 정의 및 적용

## 6. 데이터 처리 파이프라인 예시
- MQTT 메시지를 AWS IoT Core 주제로 전송
- Kinesis Data Firehose로 S3에서 데이터 전처리
- AWS Glue와 Amazon Comprehend로 민감 정보 식별
- Lake Formation으로 Athena 사용자 액세스 제한

## 7. 민감 데이터 검색 및 처리 프로세스
- 예약된 일정에 따라 실행 (예: 6시간마다)
- ETL 실행 전 민감 데이터 검색 스캔 수행
- 검증 및 데이터 수정/토큰화 후 중요 데이터 검색
- 파이프라인 실행 시간 증가 고려 (5-10분 추가)
- 민감 데이터 발견 시 관리자에게 승인 요청 이메일 발송

## 8. 데이터 파이프라인 설계
- IAM 관리형 정책으로 Lambda 함수에 권한 부여
- 다양한 목적의 S3 버킷 사용 (원시 데이터, 스캔, 수동 검토, 스캔된 데이터)
- Step Functions로 Lambda 함수 오케스트레이션
- Macie로 민감 데이터 검색
- EventBridge로 워크플로 실행 스케줄링
- SNS로 알림 전송
- API Gateway로 수동 검토 결정 수신

## 9. 추가 고려사항
- 백업 계획
- 재해 복구 계획
- 데이터 프라이버시 전략 계획

## 10. 데이터 레이크 환경의 백업 및 복구 전략
- 다양한 역할 (데이터 레이크 관리자, 데이터 엔지니어, 스토리지 관리자, 백업 관리자)
- S3 기능 활용 (버전 관리, 복제, 객체 잠금)
- AWS Backup 사용
- IAM Identity Center로 사용자 권한 매핑
- 태그 기반 백업 대상 선택
- 연속 백업 및 정기 백업 옵션
- AWS Backup Audit Manager로 규정 준수 감사

## 11. Amazon Redshift 데이터 공유 및 권한 관리
- 데이터 공유 객체 수명 주기 관리
- 열 수준 액세스 제어 활용

## 12. AWS Config를 통한 구성 변경 관리
- 리소스 구성 변경 추적
- Lambda 함수와 연계한 규칙 평가
- SNS를 통한 변경 알림