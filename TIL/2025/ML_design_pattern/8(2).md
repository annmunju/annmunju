<!-- 440페이지~ -->

## ML 프로젝트 내의 패턴

### 1. ML 수명 주기

![](src/그림8-2.png)

#### 발견
1. 비즈니스 사용 사례 정의
    - 모든 머신러닝 프로젝트는 비즈니스 기회에 대한 철저한 이해와 비즈니스 운영에 개선을 이뤄내야함
    - 비즈니스 목표와 작업 범위를 개략적으로 설명하기 -> 이를 통해 측정 가능한 지표를 설정 (KPI)
        - 가장 이상적인 방식은 이미 배포된 모델일 수 있고 휴리스틱 모델일 수 있다.
2. 데이터 탐색
    - 제대로 된 데이터 확보가 중요. 
    - 프로젝트의 실행 가능성과 성공 가능성은 데이터에 달려있다. 해당 데이터의 품질이 어떤지 이해하자.
        1) 주요 특징 분포?
        2) 결측값은 얼마나 있는지
        3) 누락된 값의 처리는 어떻게 할지
        4) 이상치가 있는지
        5) 높은 상관관계가 있는 데이터가 있는지
        6) 입력 데이터에는 어떤 특징들이 있으며 그 중 특징 가공이 필요한건 무엇인지
        7) 데이터의 양이 충분한지
        8) 데이터 양이 충분하지 않다면 데이터셋을 어떻게 증가시킬 수 있을지
        9) 데이터셋에 편향은 없는지
    - 확인 방법
        1) 밀도 플롯과 히스토그램은 다양한 입력값의 분포를 이해
        2) 박스 플롯은 이상치를 식별
        3) 산점도는 이변량 관계를 발견하고 설명
        4) 백분위수는 숫자 데이터의 범위를 식별 
        5) 평균, 중앙값, 표준편차를 통해 중심 경향성을 설명
    - 이를 통해 추가 변환이 필요한지 알 수 있다.
3. 머신러닝 타당성 조사
    - 타당성 조사를 위한 짧은 기술 스프린트 진행
    - 머신러닝에 필요한 다양한 선택지, 알고리즘 실험하고 어떤 feature engineering이 가장 유익한지 판단하기
    - 이를 통해 휴리스틱 벤치마크 생성하기

#### 개발
4. 데이터 파이프라인과 특징 가공 구축 (2장-데이터 표현 디자인 패턴, 5,6장 ML 시스템 디자인 패턴)
    - 특징 가공은 원시 입력 데이터를 모델의 학습 목표와 가까워지게 하고, 특징을 학습을 위해 모델에 제공할 수 있는 형식으로 변환하는 프로세스
    1) 입력 데이터의 버킷화
    2) 데이터 형변환
    3) 텍스트의 토큰화, 형태소 분석
    4) 범주형 특징 생성: 원-핫 인코딩, 입력 해싱, 
    5) 특징 교차, 특징 임베딩 생성 등
    6) 시계열 문제: 특징 윈도를 만들고 지연 시간이나 라벨 간격 크기를 실험
    7) 회귀 문제 -> 분류 문제로 리프레이밍
    8) 라벨 표현 변경 ...
5. ML 모델 구축 (4장)
    - 모델 개발 전에 학습, 검증, 테스트셋에 대해 반복 가능한 분할 생성
    - 데이터 유출 없이 설계할 수 있는 패턴
    - 검증 셋에 대한 성능 평가
    - 예측 품질 조사를 위한 다양한 모델 알고리즘, 조합 학습
    - 하이퍼파라미터 튜닝, 정규화 기법, 에지 환경에서 구현 등
    - 실험 이후에 데이터, 비즈니스 목표, KPI 등 재검토 후 재개발 -> 재현성 디자인 패턴(6장)
6. 최종 평가 단계
    - 모델 개발 종료 및 성능 평가
7. 분석 결과의 해석 + 비즈니스 이해관계자와 규제 그룹에 제공
    - 책임 있는 AI, 이해관계자에게 도움이 될 수 있는 디자인 패턴 (7장)
    - 머신러닝 모델의 수명주기, 프로덕현 환경에서의 사용이나 배포 등의 최종 단계에서 추가 리소스 투입 여부를 결정

#### 배포
8. 배포 계획 실시
    - 프로덕션 환경에서 모델 사용하기 위핸 접근 방식
        - 대화형 대시보드
        - 정적 노트북 파일
        - 재사용 가능한 라이브러리
        - 웹 서비스 엔드포인트 등 
    - 고려사항
        - 모델 재학습은 어떻게 관리해야 할까?
        - 입력 데이터를 실시간 데이터로 받아야 할까?
        - 새로운 배치 작업을 통해 학습을 수행할지, 실시간으로 학습을 수행할지
        - 모델 추론은 어떻게 진행될지
        - 추론은 배치로 할지 실시간으로 할지
        - 고려해야할 특별한 처리량이 있거나 지연시간에 문제가 생기진 않을까
        - 급증하는 워크로드 처리는 어떻게 할지
        - 짧은 대기시간이 우선되어야 할지
        - 네트워크 연결 문제는 없을지 ... (5장)
9. 모델 운영하기 : MLOps
    - 프로덕션 환경에서의 머신러닝 모델 자동화, 모니터링, 테스트, 유지, 관리 
    - 자동화된 워크플로 파이프라인 구성
    - CI/CD 프로세스 원칙 적용
    - 모델 모니터링과 유지: 모델 부실화가 올 때 업데이트가 필요.
        - 라벨 불균형, 외부 API 의존 등 업스트림 데이터 소스 변경사항 확인
        - 예측 분포 모니터링하고 프로덕션 환경에서의 예측 품질 측정
