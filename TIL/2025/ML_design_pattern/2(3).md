## 2.4 디자인 패턴 3: 특징 교차

### 문제
- 데이터셋 패턴에서 명확하게 드러나는 비선형 경계가 존재

### 솔루션
- 둘 이상의 카테고리 특징을 연결해 이들 간 상호작용 반영
- 빅쿼리 특징 교차 예시
```sql
ML.FEATURE_CROSS(STRUCT(day_of_week,hour_of_week)) AS day_X_hour
```

### 작동 원리
- 비선형 모델 (DNN)에 레이어 추가해서 패턴 맞추기 vs 특징 교차 사전 정의 후 ML로 학습
    - 훈련 시간은 후자가 빠름
    - 성능은 비슷하게 나타남

### 트레이드오프와 대안
- 수치 특징 교차
    - 각각의 연속값을 binning 한 후 특징 교차 적용하기. (비옴/안옴, 눈옴/안옴)
- 큰 카디널리티 다루기
    - 카디널리티 높은 카테고리형 변수로 특징 교차 만들면 저밀도 벡터가 됨
    - 이를 임베딩 레이어 추가해서 고밀도 벡터로 변환할 수 있음
    - 해당 변수들이 출력에 미치는 영향을 일반화 할 수 있음.
- 정규화의 필요성
    - 카테고리가 적은 경우에 특징 교차하면 모델의 일반화 특징이 저하될 수 있고
    - 카테고리가 많은 경우에 특징 교차하면 너무 많은 특징이 나와서 과대적합 될 수 있다.
    - 그렇기 때문에 특징 교차를 수행한 후 특징 밀도를 높이는 L1 정규화
    - 또는 과대 적합을 제한하는 L2 정규화와 함께 쓰는 것이 좋다.
    - 특징 교차시 상관관계가 높은 두 특징을 교차하지 않는게 좋음 (새로운 정보가 되질 않음)