---
marp: true
style: |
  table {
    font-size: 15pt;
    width: 100%;
    table-layout: fixed;
  }
  th, td {
    word-break: break-all;
    text-align: center;
  }
---

<!-- Heading -->
# GCP Data Engineering Summary

> 2025년 7월 학습 + GCP 엔지니어링 중심 조직 아키텍처 해설

---

# 데이터 엔지니어링 중심 조직

### 왜 지금, 데이터 엔지니어인가?

- 데이터는 빠르게, 다양하게, 복잡하게 생성됨
- ELT만으로는 부족한 **지저분하거나 실시간 데이터** 증가
- 데이터를 정제·변환·통합할 인재와 시스템 필요

> **복잡한 데이터 → 가치 있는 데이터로 만드는 핵심은 '데이터 엔지니어'**

---

### 데이터 전략의 다양성

- 조직별로 중심 전략 다름 (Sales/Marketing/Data Science 중심 등)
- 데이터 전략도 다양:
  - 분석가 중심 조직: ELT, 분석 도구 강조
  - 엔지니어 중심 조직: ETL, 스트리밍 파이프라인 구축 강조
- 조직 문화와 기술 스택은 맞춰야 성공

---

# 데이터 엔지니어의 역할

### 엔지니어는 데이터의 흐름을 설계한다

- 데이터 이동, 정제, 메타데이터 생성
- 운영 시스템 <-> 분석 시스템 연결
- ML/BI 아티팩트 배포 지원
- **DataOps**: 도메인 지식 + 소프트웨어 엔지니어링의 결합

> 데이터 소비자가 분석에 집중하도록 '복잡성 추상화'를 담당

---

# 이상적인 구조: 계층형 데이터 조직

| 계층 | 설명 |
|------|------|
| **비즈니스 데이터 오너** | 도메인 단위 팀. 데이터 생산 책임 |
| **데이터 엔지니어** | 파이프라인 구축, 정제, 통합 담당 |
| **데이터 소비자** | 데이터 기반 가치 창출 (분석, 모델 등) |

> 실무에서는 스쿼드 형태로 통합되기도 함 (PO + 엔지니어 + 사이언티스트 등)

---

# GCP 기반 서버리스 아키텍처

### 설계 원칙
- **서버리스 + No-Ops** → 인프라 고민 제거
- **스트리밍 지원** → 실시간 인사이트 추출
- **배치 <-> 스트리밍 코드 재사용 가능** → Apache Beam

---

### 수집 계층 (Ingestion Layer)

| 유형 | 기술 | 설명 |
|------|------|------|
| 스트리밍 | Pub/Sub | 메시지 기반 실시간 수집 |
| 배치 | Cloud Storage | 파일 기반 대량 적재, 자동 확장 |

---

### 처리 계층 (Transform Layer)

| 도구 | 특징 | 사용 예시 |
|------|------|-----------|
| **Dataflow** | Apache Beam 기반, 스트리밍+배치 통합 | 복잡한 파싱, 실시간 로직 |
| **Dataproc** | Spark/Hadoop 이식에 적합 | 기존 코드 마이그레이션 |
| **Data Fusion** | 코드 없는 GUI 환경 | 노코드/로우코드 팀 환경에 적합 |

> **Dataflow 템플릿** + 커스텀 코드 혼합도 가능 (재사용 + 고유 로직 분리)

---

### 저장 계층 (Serving Layer)

- **BigQuery**: 분석 중심 데이터 웨어하우스
- **BigTable**: 시계열 및 대용량 트랜잭션 데이터 저장
- **Cloud SQL**: 관계형 소형 데이터 저장 (BigQuery와 통합 가능)

---

# BigQuery 핵심 기능

- 서버리스, 열 지향, 인덱스 없이도 빠른 쿼리
- **구체화된 뷰**: 캐싱으로 쿼리 최적화
- **데이터 마스킹/정책 태그**: 보안 강화
- **중첩·반복 필드**: 조인 비용 없이 복잡 구조 표현

> 정규화 → 비정규화 전환을 통한 성능 최적화

---

### 파티셔닝 & 클러스터링

| 기능 | 설명 |
|------|------|
| **파티셔닝** | 쿼리 범위 축소 → 비용 절감 |
| **클러스터링** | 파티션 내부 정렬 → 빠른 쿼리 실행 |

- 자동 재클러스터링 지원
- 필터 먼저 → 병렬 계산 → 병합 순으로 처리

---

# 자동화 및 오케스트레이션

| 도구 | 역할 |
|------|------|
| **Cloud Scheduler** | 반복 일정 기반 트리거 |
| **Cloud Composer** | DAG 기반 워크플로우 관리 |
| **Workflows** | 조건부 논리 및 외부 호출 |
| **Cloud Functions + Eventarc** | 이벤트 기반 아키텍처 구현 |

> **GitHub Actions 같은 자동화 흐름**을 클라우드에서 구현 가능

---

# 메타데이터와 거버넌스

| 도구 | 주요 기능 |
|------|-----------|
| **Dataplex** | 데이터 품질/수명주기 관리 |
| **Data Catalog** | 태그 기반 검색, 민감 정보 분류 |
| **Analytics Hub** | 데이터 공유 허브, 중복 없는 공유 |

> 데이터 중심 조직의 ‘통합 관리와 신뢰’ 구현 도구

---

# 실무 고려사항

### 성능
- Dataflow 병목 → Cloud Profiler 사용
- BigQuery 쿼리 제한 시: 배치 전환
- 10GB 이상 조인 → 비정규화 권장

### 비용
- Dataproc 자동 확장
- 일시 클러스터로 단기 작업 최적화
- BQ 가격 계산기 + 검사기 활용

### 통합
- Pub/Sub → Dataflow → BQ 패턴
- Cloud SQL ↔ BigQuery 연계 (주기 동기화)
- BigTable: IoT, 거래 로그 등 적합

---

# 결론: 데이터 엔지니어링으로 가치 실현

- 복잡하고 빠른 데이터 → **정제, 연결, 전달**은 엔지니어의 몫
- GCP는 서버리스 + 오픈소스 기반으로 유연성과 확장성 보장
- 아키텍처는 **코드와 인프라 분리** → 본질에 집중 가능

> Let your Dataflow & your engineers impact your business.

---

# 감사합니다!

- [참고 블로그 링크](https://cloud.google.com/blog/products/data-analytics/building-the-data-engineering-driven-organization?hl=en)
