
# 4_메모리

## RAM 
- Random Access Memory
	- 임의 접근 (데이터 접근 시간이 주소별로 상이하지 않음) <-> 순차 접근
- 종류
	- DRAM : 시간이 지나면 저장된 데이터가 점차 사라지는 RAM
	- SRAM : 시간이 지나도 저장된 데이터가 사라지지 않는 RAM
	- SDRAM : 클럭신호와 동기화된 DRAM
	- DDR SDRAM : 대역폭을 넓혀 속도를 빠르게 한 SDRAM
		- 한 클럭당 하나씩 데이터를 주고받을 수 있는 SDRAM보다 전송 속도가 두배가량 빠름

## 메모리에 바이트를 밀어넣는 순서

### 빅 에디안
- 낮은 번지의 주소에서 상위 바이트부터 저장하는 방식
- 우리가 숫자를 쓰는 체계 방식과 동일하게 쓰임. 낮은 번지로 부터 높은 번지까지 순차적으로.
### 리틀 에디안
- 낮은 번지의 주소에서 하위 바이트부터 저장하는 방식
- 가장 작은 값부터 저장되어 있어 계산할 때 자리올림이 편리

## 캐시 메모리
- SRAM 기반의 저장장치
- 코어와 가장 가까운 순서대로 L1(코어 내부) -> L2(코어 내부) -> L3(코어 외부) 캐시
	- 크기는 L3으로 갈수록 커짐
	- 속도는 L1으로 갈수록 빨라짐
- 멀티코어의 경우
	- L3 캐시는 코어간 공유
	- 분리형 캐시의 경우 L1이 L1I, L1D로 구분되어 있음

### 캐시 히트와 캐시 미스
- 캐시 히트
	- 캐시 메모리가 예측해 저장한 데이터가 CPU에 의해 실제로 사용된 경우
- 캐시 미스
	- 캐시 메모리가 예측해 저장한 데이터가 잘못 하여 CPU가 메모리로부터 필요한 데이터를 직접 가져와야 하는 경우
- 캐시 적중률 : 캐시 히트 횟수 / (캐시 히트 횟수 + 캐시 미스 횟수)

### 참조 지역성의 원리
- CPU가 사용할법한 데이터 예측 => 참조 지역성의 원리
- 시간 지역성 : 최근 접근한 메모리 공간에 다시 접근하려 한다
	- 예) 프로그래밍 언어의 변수
- 공간 지역성 : 최근 접근한 공간의 근처에 접근하려 한다
	- 예) 배열

### 캐시 메모리의 쓰기 정책과 일관성
- 즉시 쓰기 : 캐시 메모리, 메모리에 동시에 작성
- 지연 쓰기 : 캐시 메모리에 미리 작성해놓고 메모리에 나중 작성
-> 캐시 데이터를 사용한다는 것은 데이터 접근에서 빠른 성능은 보장하지만 데이터 일관성을 유지하기 위한 책임이 따르는 방식이다.


---


# 5_보조기억장치와_입출력장치

## RAID
- 데이터의 안전성 혹은 성능을 확보하기 위해 여러 개의 독립적인 보조기억장치를 하나의 보조기억장치처럼 사용

### 구성 방식
> 최적의 레벨이 상황에 따라 달라짐
1. RAID0
	- 단순하게 나누어 저장하는 구성 방식
	- 하드 개수만큼 나눠 저장 (스크라입, 스트라이핑)
	- 저장된 정보가 안전하지 않음. 하나의 하드만 손실되어도 나머지 데이터가 불안정해짐
2. RAID1
	- 완전한 복사본을 만들어 저장 및 구성 (미러링) 
	- 복구가 간단하고 안정성이 높음
	- 쓰기 속도 느리고 저장된 크기만큼 사용 가능 용량이 적어짐
3. RAID4
	- 패리티(오류 검출 장치) 정보를 저장하는 디스크를 별도로 둠
	- 적은 하드로도 안전하게 보관 가능
	- 패리티 저장 디스크에 부하가 있음. 병목 지점이 될 수 있음
4. RAID5
	- 패리티를 분산 저장
5. RAID6
	- 서로 다른 패리티를 2개 두는 방식
	- 안정적이나 속도 느림

## 입출력 기법

### 장치 컨트롤러와 장치 드라이버
- 장치 컨트롤러는 CPU와 상호작용하며 입출력 장치를 작동
- 장치 컨트롤러를 작동시키는 장치 드라이버 프로그램
- 장치 컨트롤러가 정보를 주고받는 작업 
	- 프로그램 입출력
	- 인터럽트 기반 입출력
	- DMA 입출력

### 프로그램 입출력
- 프로그램 속 명령어로 입출력 작업을 수행

### 인터럽트 기반 입출력: 다중 인터럽트
- 인터럽트가 다양한 입출력 장치에서 동시다발적으로 발생하는 경우
- 프로그래머블 인터럽트 컨트롤러 (PIC) 
	- CPU에게 지금 처리해야 할 하드웨어 인터럽트가 뭔지 알려주는 장치

### DMA 입출력
- CPU를 거치지 않고 직접 메모리에 접근할 수  있는 입출력 기능
- DMA 입출력을 위해서 DMA 컨트롤러 하드웨어 필요
	- DMA 컨트롤러는 시스템 버스에 연결되고, 입출력장치들의 장치 컨트롤러들은 입출력 버스와 연결됨
- 사이클 스틸링
	- 시스템 버스는 두 장치에서 동시에 사용이 불가능해서 CPU가 시스템 버스를 사용하면 DMA 컨트롤러는 사용을 못함. 반대도 사용 못함. 그러니 뺏기는 기분 들겠지?
- 입출력 버스 PCIe 
	- 버전별로 레인당 최대 속도가 상이
	- 레인은 정보 송수신 단위. 개수가 여러개면 한 번에 통신을 주고 받을 수 있는 양도 배가 됨.


---

# 추가학습_GPU
- 그래픽 처리 장치. 코어 개수가 많음(수백~수천개) 병렬처리 용이
- GPU의 개별 코어는 CPU에 비해 성능 좋지 못함. 
- Nvidia의 CUDA 프로그래밍 모델을 이용해 직접 소스코드를 수행할 수 있음
